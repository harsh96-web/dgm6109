<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plot 2 — Sleep vs Restfulness (Filtered)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 950px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      margin-bottom: 5px;
      font-size: 22px;
    }
    h3 {
      color: #666;
      margin-top: 0;
      font-weight: normal;
      font-size: 16px;
    }
    .hypothesis {
      background: #f9f9f9;
      padding: 15px;
      border-left: 3px solid #2196F3;
      margin: 20px 0;
      line-height: 1.6;
    }
    .filter-note {
      background-color: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 12px 15px;
      margin: 15px 0;
      font-size: 14px;
      color: #856404;
    }
    .explanation {
      background: #f0f8ff;
      padding: 15px;
      border-left: 3px solid #2196F3;
      margin-top: 20px;
      line-height: 1.6;
    }
    .note {
      text-align: center;
      color: #666;
      font-size: 14px;
      margin-top: 10px;
    }
    .tooltip {
      position: absolute;
      padding: 10px;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      border-radius: 5px;
      pointer-events: none;
      opacity: 0;
      font-size: 12px;
      max-width: 220px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Plot 2: Sleep Hours vs Restfulness (Adequate Sleep Analysis)</h1>
    <h3>Harsh Kumar — Lab #9</h3>

    <p class="hypothesis">
      <strong>Research Question:</strong>
      Does more sleep always lead to better restfulness when you're already getting adequate rest?
      I used <strong>Array.filter()</strong> to show only days with more than 6 hours of sleep (11 out of 12 days),
      focusing on the quality-versus-quantity relationship. Circle size represents workout duration,
      and color shows time progression from Sept 26 (light blue) to Oct 6 (dark navy blue), revealing 
      both daily patterns and overall fitness improvement across the training period.
    </p>

    <div class="filter-note">
      <strong>Data Filtered:</strong> Showing 11 out of 12 days (Sept 26 - Oct 6). 
      Excluded Sept 25 (6.0 hours sleep) to focus on adequate-sleep nights only.
    </div>

    <svg id="chart"></svg>

    <p class="note">
      <strong>Size</strong> = Workout Duration &nbsp; | &nbsp; <strong>Color</strong> = Date (Light Blue = Sept 26, Dark Navy = Oct 6)
    </p>

    <div class="explanation">
      <h3>Why This is One of My Best Scatterplots</h3>
      <p>
        This visualization challenges the assumption that "more sleep always equals better rest."
        <strong>Array.filter()</strong> removes insufficient sleep data (Sept 25 with 6.0 hours), letting me focus 
        on the 11 adequate-sleep nights. The pattern reveals that between 6.5–8.5 hours, workout 
        intensity (circle size) is a strong predictor of restfulness. Larger circles (longer workouts 
        like "Deadlift 405x1 PR" at 102 minutes) appear at higher restfulness levels even with modest sleep. 
        The color gradient (light blue → navy) shows time progression, revealing that my later training days 
        (darker circles) cluster at higher restfulness levels, demonstrating fitness improvement over time. 
        This scatter successfully uses three data dimensions (sleep hours, restfulness, workout duration) 
        plus a fourth visual element (time-based color) to tell a complete fitness story. Without filtering, 
        the single sleep-deprived night would anchor the visualization at the bottom-left, obscuring these 
        nuanced patterns among adequate-sleep nights.
      </p>
    </div>
  </div>

  <!-- ✅ External JS includes -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.6.1/d3.min.js"></script>
  <script defer src="main.js"></script>
</body>
</html>
