<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plot 2 — Sleep vs Restfulness (Filtered)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 950px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 { color:#333; margin-bottom:5px; font-size:22px; }
    h3 { color:#666; margin-top:0; font-weight:normal; font-size:16px; }
    .hypothesis {
      background:#f9f9f9; padding:15px; border-left:3px solid #2196F3;
      margin:20px 0; line-height:1.6;
    }
    .filter-note {
      background-color:#fff3cd; border-left:4px solid #ffc107;
      padding:12px 15px; margin:15px 0; font-size:14px; color:#856404;
    }
    .explanation {
      background:#f0f8ff; padding:15px; border-left:3px solid #2196F3;
      margin-top:20px; line-height:1.6;
    }
    .note {
      text-align:center; color:#666; font-size:14px; margin-top:10px;
    }
    .tooltip {
      position:absolute; padding:10px;
      background:rgba(0,0,0,0.8); color:white; border-radius:5px;
      pointer-events:none; opacity:0; font-size:12px; max-width:220px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Plot 2 — Sleep Hours vs Restfulness (Adequate Sleep Analysis)</h1>
    <h3>Harsh Kumar — Lab #9 Plot 2</h3>

    <p class="hypothesis">
      <strong>Research Question:</strong>
      Does more sleep always lead to better restfulness when already getting adequate rest?
      This visualization uses <strong>Array.filter()</strong> to include only days with
      more than 6 hours of sleep (11 out of 12 days) to focus on the
      quality-versus-quantity relationship. Circle size represents workout duration,
      and color shows time progression from Sept 26 (light blue) to Oct 6 (dark navy blue),
      revealing both daily patterns and overall fitness improvement.
    </p>

    <div class="filter-note">
      <strong>Data Filtered:</strong> Showing 11 out of 12 days (Sept 26 – Oct 6). Excluded Sept 25 (6.0 hours sleep) to focus on adequate-sleep nights only.
    </div>

    <svg id="chart"></svg>

    <p class="note">
      <strong>Size</strong> = Workout Duration &nbsp;|&nbsp;
      <strong>Color</strong> = Date (Sept 26 → Oct 6)
    </p>

    <div class="explanation">
      <h3>Why This is One of My Best Scatterplots</h3>
      <p>
        This visualization challenges the assumption that “more sleep always equals better rest.” 
        By applying <strong>Array.filter()</strong>, I removed the single short-sleep day (Sept 25) so patterns among adequate-sleep nights become clear. 
        Between 6.5–8.5 hours, workout intensity (circle size) strongly predicts restfulness. 
        Larger circles (longer workouts like “Deadlift 405×1 PR”) appear at higher restfulness levels even with similar sleep duration. 
        The light→dark blue color gradient shows time progression, and later training days cluster at higher restfulness levels, illustrating fitness adaptation over time. 
        Without filtering, that one outlier would anchor the plot low left and hide these relationships.
      </p>
    </div>
  </div>

  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.6.1/d3.min.js"></script>
  <script defer src="main.js"></script>
</body>
</html>
